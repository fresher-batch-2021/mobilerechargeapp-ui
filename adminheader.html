<header id="admin-header">
     <link rel="stylesheet" href="adminheader.css">
     <nav class="navbar">
        <ul class='header-ul'>
            <li class="nav-item logout-button" data-loggedin="true">
    
                <a class='nav-link' href="logout.html">Logout</a>
    
            </li>
            
            <li class='nav-item users-button' data-loggedin="true" >
                <a class='nav-link' href="listusers.html">userslist</a>
    
            </li>
            <li class='nav-item searchplan-button' data-loggedin="true" >
                <a class='nav-link' href="displaypage.html">searchplan</a>
    
            </li>
            <li class='nav-item addplan-button' data-loggedin="true" >
                <a class='nav-link' href="addplan.html">addplan</a>
    
            </li>
    </ul>
    <script>

        const userStr = localStorage.getItem("LOGGED_IN_USER");
        const user = JSON.parse(userStr);
        console.log("User", user);
        let content = `<a class="username" id="userName">${user.name}</a>`;
        document.querySelector("#userName").innerHTML = content;
        if (user != null) {
            //if user is logged in, 
            $(".nav-item[data-loggedin='true']").show();
            $(".nav-item[data-loggedin='false']").hide();
            console.log(user)
            $("#profile").html("Welcome " + user.name);
            if (user.role == "admin") {
            $(".nav-item[data-loggedin='true']").show();
        }
            
        }
        
         else {
            //if user yet to logged in, 
            $(".nav-item[data-loggedin='false']").show();
            $(".nav-item[data-loggedin='true']").hide();
        }
        function logout() {
            localStorage.clear("user");
            window.location.href = 'login.html'
        }

    </script>
</header>
