<header>
<link rel="stylesheet" href="styles.css">

 <nav class="navbar">
    <ul class='header-ul'>
        <li class="nav-item logout-button" data-loggedin="true">

            <a class='nav-link' href="logout.html">Logout</a>

        </li>

        <li  class="nav-item login-button"  data-loggedin='false' >
            <a class='nav-link' href="login.html">Login</a>
        </li>
        <li  class="nav-item"  data-loggedin='false' >

            <a class='nav-link' href="register.html">Register</a>
        </li>
        
        <li class='nav-item plan-button' data-loggedin="true" >
            <a class='nav-link' href="listplan.html">Plans</a>

        </li>
        <li class='nav-item wallet-button' data-loggedin="true" >
            <a class='nav-link' href="wallet.html">Wallet</a>

        </li>
        <li class='nav-item history-button' data-loggedin="true">
            <a class='nav-link' href="history.html"> History</a>
            </li>
            <li class="nav-item username-button"  id = "userName" data-loggedin="true" ></li>


        

    </ul> 
    <script>

        const userStr = localStorage.getItem("LOGGED_IN_USER");
        const user = JSON.parse(userStr);
        console.log("User", user);
        if (user != null) {
            //if user is logged in, 
         let content = `<a class="username" id="userName">${user.name}</a>`;
         document.querySelector("#userName").innerHTML = content;

            $(".nav-item[data-loggedin='true']").show();
            $(".nav-item[data-loggedin='false']").hide();
            console.log(user)
            // $("#profile").html("Welcome " + user.name);
            if (user.role == "admin") {
            $(".nav-item[data-loggedin='true']").show();
        }
            
        }
        
         else {
            //if user yet to logged in, 
            $(".nav-item[data-loggedin='false']").show();
            $(".nav-item[data-loggedin='true']").hide();
        }
        // function logout() {
        //     localStorage.clear("user");
        //     window.location.href = 'login.html'
        // }

    </script>
</header>
